#!/usr/bin/env /usr/local/www/vamps/software/node/bin/node

// CL: nodemon bin/www testing

available_environments = ['testing','development','production'];
if(available_environments.indexOf(process.argv[2]) !== -1){
	process.env.NODE_ENV = process.argv[2];
}else{
	console.log('available environments:',available_environments);
	console.log("setting environment to 'development':");
	process.env.NODE_ENV = 'development';
}

var debug = require('debug')('vamps-node.js'); 
var app = require('../app');
var config = require('../config/config');
process.env.PORT = config.server_port || 3000;
app.set('port', process.env.PORT);


var server = app.listen(app.get('port'), function() {
  debug('Express server listening on port ' + server.address().port);
 	console.log('VAMPS-Node.js started on localhost: '+process.env.PORT);
});
 