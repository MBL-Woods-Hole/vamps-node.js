<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - public/javascripts/bootstrap-select.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>public/javascripts/bootstrap-select.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">59.33</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">1209</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">87.41</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">19.75</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">(function ($) {
  &#039;use strict&#039;;

  // Case insensitive search
  $.expr[&#039;:&#039;].icontains = function (obj, index, meta) {
    return icontains($(obj).text(), meta[3]);
  };

  // Case and accent insensitive search
  $.expr[&#039;:&#039;].aicontains = function (obj, index, meta) {
    return icontains($(obj).data(&#039;normalizedText&#039;) || $(obj).text(), meta[3]);
  };

  /**
   * Actual implementation of the case insensitive search.
   * @access private
   * @param {String} haystack
   * @param {String} needle
   * @returns {boolean}
   */
  function icontains(haystack, needle) {
    return haystack.toUpperCase().indexOf(needle.toUpperCase()) &gt; -1;
  }

  /**
   * Remove all diatrics from the given text.
   * @access private
   * @param {String} text
   * @returns {String}
   */
  function normalizeToBase(text) {
    var rExps = [
      {re: /[\xC0-\xC6]/g, ch: &quot;A&quot;},
      {re: /[\xE0-\xE6]/g, ch: &quot;a&quot;},
      {re: /[\xC8-\xCB]/g, ch: &quot;E&quot;},
      {re: /[\xE8-\xEB]/g, ch: &quot;e&quot;},
      {re: /[\xCC-\xCF]/g, ch: &quot;I&quot;},
      {re: /[\xEC-\xEF]/g, ch: &quot;i&quot;},
      {re: /[\xD2-\xD6]/g, ch: &quot;O&quot;},
      {re: /[\xF2-\xF6]/g, ch: &quot;o&quot;},
      {re: /[\xD9-\xDC]/g, ch: &quot;U&quot;},
      {re: /[\xF9-\xFC]/g, ch: &quot;u&quot;},
      {re: /[\xC7-\xE7]/g, ch: &quot;c&quot;},
      {re: /[\xD1]/g, ch: &quot;N&quot;},
      {re: /[\xF1]/g, ch: &quot;n&quot;}
    ];
    $.each(rExps, function () {
      text = text.replace(this.re, this.ch);
    });
    return text;
  }


  function htmlEscape(html) {
    var escapeMap = {
      &#039;&amp;&#039;: &#039;&amp;amp;&#039;,
      &#039;&lt;&#039;: &#039;&amp;lt;&#039;,
      &#039;&gt;&#039;: &#039;&amp;gt;&#039;,
      &#039;&quot;&#039;: &#039;&amp;quot;&#039;,
      &quot;&#039;&quot;: &#039;&amp;#x27;&#039;,
      &#039;`&#039;: &#039;&amp;#x60;&#039;
    };
    var source = &#039;(?:&#039; + Object.keys(escapeMap).join(&#039;|&#039;) + &#039;)&#039;,
        testRegexp = new RegExp(source),
        replaceRegexp = new RegExp(source, &#039;g&#039;),
        string = html == null ? &#039;&#039; : &#039;&#039; + html;
    return testRegexp.test(string) ? string.replace(replaceRegexp, function (match) {
      return escapeMap[match];
    }) : string;
  }

  var Selectpicker = function (element, options, e) {
    if (e) {
      e.stopPropagation();
      e.preventDefault();
    }

    this.$element = $(element);
    this.$newElement = null;
    this.$button = null;
    this.$menu = null;
    this.$lis = null;
    this.options = options;

    // If we have no title yet, try to pull it from the html title attribute (jQuery doesnt&#039; pick it up as it&#039;s not a
    // data-attribute)
    if (this.options.title === null) {
      this.options.title = this.$element.attr(&#039;title&#039;);
    }

    //Expose public methods
    this.val = Selectpicker.prototype.val;
    this.render = Selectpicker.prototype.render;
    this.refresh = Selectpicker.prototype.refresh;
    this.setStyle = Selectpicker.prototype.setStyle;
    this.selectAll = Selectpicker.prototype.selectAll;
    this.deselectAll = Selectpicker.prototype.deselectAll;
    this.destroy = Selectpicker.prototype.remove;
    this.remove = Selectpicker.prototype.remove;
    this.show = Selectpicker.prototype.show;
    this.hide = Selectpicker.prototype.hide;

    this.init();
  };

  Selectpicker.VERSION = &#039;1.6.3&#039;;

  // part of this is duplicated in i18n/defaults-en_US.js. Make sure to update both.
  Selectpicker.DEFAULTS = {
    noneSelectedText: &#039;Nothing selected&#039;,
    noneResultsText: &#039;No results match&#039;,
    countSelectedText: function (numSelected, numTotal) {
      return (numSelected == 1) ? &quot;{0} item selected&quot; : &quot;{0} items selected&quot;;
    },
    maxOptionsText: function (numAll, numGroup) {
      var arr = [];

      arr[0] = (numAll == 1) ? &#039;Limit reached ({n} item max)&#039; : &#039;Limit reached ({n} items max)&#039;;
      arr[1] = (numGroup == 1) ? &#039;Group limit reached ({n} item max)&#039; : &#039;Group limit reached ({n} items max)&#039;;

      return arr;
    },
    selectAllText: &#039;Select All&#039;,
    deselectAllText: &#039;Deselect All&#039;,
    multipleSeparator: &#039;, &#039;,
    style: &#039;btn-default&#039;,
    size: &#039;auto&#039;,
    title: null,
    selectedTextFormat: &#039;values&#039;,
    width: false,
    container: false,
    hideDisabled: false,
    showSubtext: false,
    showIcon: true,
    showContent: true,
    dropupAuto: true,
    header: false,
    liveSearch: false,
    actionsBox: false,
    iconBase: &#039;glyphicon&#039;,
    tickIcon: &#039;glyphicon-ok&#039;,
    maxOptions: false,
    mobile: false,
    selectOnTab: false,
    dropdownAlignRight: false,
    searchAccentInsensitive: false
  };

  Selectpicker.prototype = {

    constructor: Selectpicker,

    init: function () {
      var that = this,
          id = this.$element.attr(&#039;id&#039;);

      this.$element.hide();
      this.multiple = this.$element.prop(&#039;multiple&#039;);
      this.autofocus = this.$element.prop(&#039;autofocus&#039;);
      this.$newElement = this.createView();
      this.$element.after(this.$newElement);
      this.$menu = this.$newElement.find(&#039;&gt; .dropdown-menu&#039;);
      this.$button = this.$newElement.find(&#039;&gt; button&#039;);
      this.$searchbox = this.$newElement.find(&#039;input&#039;);

      if (this.options.dropdownAlignRight)
        this.$menu.addClass(&#039;dropdown-menu-right&#039;);

      if (typeof id !== &#039;undefined&#039;) {
        this.$button.attr(&#039;data-id&#039;, id);
        $(&#039;label[for=&quot;&#039; + id + &#039;&quot;]&#039;).click(function (e) {
          e.preventDefault();
          that.$button.focus();
        });
      }

      this.checkDisabled();
      this.clickListener();
      if (this.options.liveSearch) this.liveSearchListener();
      this.render();
      this.liHeight();
      this.setStyle();
      this.setWidth();
      if (this.options.container) this.selectPosition();
      this.$menu.data(&#039;this&#039;, this);
      this.$newElement.data(&#039;this&#039;, this);
      if (this.options.mobile) this.mobile();
    },

    createDropdown: function () {
      // Options
      // If we are multiple, then add the show-tick class by default
      var multiple = this.multiple ? &#039; show-tick&#039; : &#039;&#039;,
          inputGroup = this.$element.parent().hasClass(&#039;input-group&#039;) ? &#039; input-group-btn&#039; : &#039;&#039;,
          autofocus = this.autofocus ? &#039; autofocus&#039; : &#039;&#039;,
          btnSize = this.$element.parents().hasClass(&#039;form-group-lg&#039;) ? &#039; btn-lg&#039; : (this.$element.parents().hasClass(&#039;form-group-sm&#039;) ? &#039; btn-sm&#039; : &#039;&#039;);
      // Elements
      var header = this.options.header ? &#039;&lt;div class=&quot;popover-title&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;close&quot; aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/button&gt;&#039; + this.options.header + &#039;&lt;/div&gt;&#039; : &#039;&#039;;
      var searchbox = this.options.liveSearch ? &#039;&lt;div class=&quot;bs-searchbox&quot;&gt;&lt;input type=&quot;text&quot; class=&quot;input-block-level form-control&quot; autocomplete=&quot;off&quot; /&gt;&lt;/div&gt;&#039; : &#039;&#039;;
      var actionsbox = this.options.actionsBox ? &#039;&lt;div class=&quot;bs-actionsbox&quot;&gt;&#039; +
      &#039;&lt;div class=&quot;btn-group btn-block&quot;&gt;&#039; +
      &#039;&lt;button class=&quot;actions-btn bs-select-all btn btn-sm btn-default&quot;&gt;&#039; +
      this.options.selectAllText +
      &#039;&lt;/button&gt;&#039; +
      &#039;&lt;button class=&quot;actions-btn bs-deselect-all btn btn-sm btn-default&quot;&gt;&#039; +
      this.options.deselectAllText +
      &#039;&lt;/button&gt;&#039; +
      &#039;&lt;/div&gt;&#039; +
      &#039;&lt;/div&gt;&#039; : &#039;&#039;;
      var drop =
          &#039;&lt;div class=&quot;btn-group bootstrap-select&#039; + multiple + inputGroup + &#039;&quot;&gt;&#039; +
          &#039;&lt;button type=&quot;button&quot; class=&quot;btn dropdown-toggle selectpicker&#039; + btnSize + &#039;&quot; data-toggle=&quot;dropdown&quot;&#039; + autofocus + &#039;&gt;&#039; +
          &#039;&lt;span class=&quot;filter-option pull-left&quot;&gt;&lt;/span&gt;&amp;nbsp;&#039; +
          &#039;&lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;&#039; +
          &#039;&lt;/button&gt;&#039; +
          &#039;&lt;div class=&quot;dropdown-menu open&quot;&gt;&#039; +
          header +
          searchbox +
          actionsbox +
          &#039;&lt;ul class=&quot;dropdown-menu inner selectpicker&quot; role=&quot;menu&quot;&gt;&#039; +
          &#039;&lt;/ul&gt;&#039; +
          &#039;&lt;/div&gt;&#039; +
          &#039;&lt;/div&gt;&#039;;

      return $(drop);
    },

    createView: function () {
      var $drop = this.createDropdown();
      var $li = this.createLi();
      $drop.find(&#039;ul&#039;).append($li);
      return $drop;
    },

    reloadLi: function () {
      //Remove all children.
      this.destroyLi();
      //Re build
      var $li = this.createLi();
      this.$menu.find(&#039;ul&#039;).append($li);
    },

    destroyLi: function () {
      this.$menu.find(&#039;li&#039;).remove();
    },

    createLi: function () {
      var that = this,
          _li = [],
          optID = 0;

      // Helper functions
      /**
       * @param content
       * @param [index]
       * @param [classes]
       * @returns {string}
       */
      var generateLI = function (content, index, classes) {
        return &#039;&lt;li&#039; +
        (typeof classes !== &#039;undefined&#039; ? &#039; class=&quot;&#039; + classes + &#039;&quot;&#039; : &#039;&#039;) +
        (typeof index !== &#039;undefined&#039; | null === index ? &#039; data-original-index=&quot;&#039; + index + &#039;&quot;&#039; : &#039;&#039;) +
        &#039;&gt;&#039; + content + &#039;&lt;/li&gt;&#039;;
      };

      /**
       * @param text
       * @param [classes]
       * @param [inline]
       * @param [optgroup]
       * @returns {string}
       */
      var generateA = function (text, classes, inline, optgroup) {
        var normText = normalizeToBase(htmlEscape(text));
        return &#039;&lt;a tabindex=&quot;0&quot;&#039; +
        (typeof classes !== &#039;undefined&#039; ? &#039; class=&quot;&#039; + classes + &#039;&quot;&#039; : &#039;&#039;) +
        (typeof inline !== &#039;undefined&#039; ? &#039; style=&quot;&#039; + inline + &#039;&quot;&#039; : &#039;&#039;) +
        (typeof optgroup !== &#039;undefined&#039; ? &#039;data-optgroup=&quot;&#039; + optgroup + &#039;&quot;&#039; : &#039;&#039;) +
        &#039; data-normalized-text=&quot;&#039; + normText + &#039;&quot;&#039; +
        &#039;&gt;&#039; + text +
        &#039;&lt;span class=&quot;&#039; + that.options.iconBase + &#039; &#039; + that.options.tickIcon + &#039; check-mark&quot;&gt;&lt;/span&gt;&#039; +
        &#039;&lt;/a&gt;&#039;;
      };

      this.$element.find(&#039;option&#039;).each(function () {
        var $this = $(this);

        // Get the class and text for the option
        var optionClass = $this.attr(&#039;class&#039;) || &#039;&#039;,
            inline = $this.attr(&#039;style&#039;),
            text = $this.data(&#039;content&#039;) ? $this.data(&#039;content&#039;) : $this.html(),
            subtext = typeof $this.data(&#039;subtext&#039;) !== &#039;undefined&#039; ? &#039;&lt;small class=&quot;muted text-muted&quot;&gt;&#039; + $this.data(&#039;subtext&#039;) + &#039;&lt;/small&gt;&#039; : &#039;&#039;,
            icon = typeof $this.data(&#039;icon&#039;) !== &#039;undefined&#039; ? &#039;&lt;span class=&quot;&#039; + that.options.iconBase + &#039; &#039; + $this.data(&#039;icon&#039;) + &#039;&quot;&gt;&lt;/span&gt; &#039; : &#039;&#039;,
            isDisabled = $this.is(&#039;:disabled&#039;) || $this.parent().is(&#039;:disabled&#039;),
            index = $this[0].index;
        if (icon !== &#039;&#039; &amp;&amp; isDisabled) {
          icon = &#039;&lt;span&gt;&#039; + icon + &#039;&lt;/span&gt;&#039;;
        }

        if (!$this.data(&#039;content&#039;)) {
          // Prepend any icon and append any subtext to the main text.
          text = icon + &#039;&lt;span class=&quot;text&quot;&gt;&#039; + text + subtext + &#039;&lt;/span&gt;&#039;;
        }

        if (that.options.hideDisabled &amp;&amp; isDisabled) {
          return;
        }

        if ($this.parent().is(&#039;optgroup&#039;) &amp;&amp; $this.data(&#039;divider&#039;) !== true) {
          if ($this.index() === 0) { // Is it the first option of the optgroup?
            optID += 1;

            // Get the opt group label
            var label = $this.parent().attr(&#039;label&#039;);
            var labelSubtext = typeof $this.parent().data(&#039;subtext&#039;) !== &#039;undefined&#039; ? &#039;&lt;small class=&quot;muted text-muted&quot;&gt;&#039; + $this.parent().data(&#039;subtext&#039;) + &#039;&lt;/small&gt;&#039; : &#039;&#039;;
            var labelIcon = $this.parent().data(&#039;icon&#039;) ? &#039;&lt;span class=&quot;&#039; + that.options.iconBase + &#039; &#039; + $this.parent().data(&#039;icon&#039;) + &#039;&quot;&gt;&lt;/span&gt; &#039; : &#039;&#039;;
            label = labelIcon + &#039;&lt;span class=&quot;text&quot;&gt;&#039; + label + labelSubtext + &#039;&lt;/span&gt;&#039;;

            if (index !== 0 &amp;&amp; _li.length &gt; 0) { // Is it NOT the first option of the select &amp;&amp; are there elements in the dropdown?
              _li.push(generateLI(&#039;&#039;, null, &#039;divider&#039;));
            }

            _li.push(generateLI(label, null, &#039;dropdown-header&#039;));
          }

          _li.push(generateLI(generateA(text, &#039;opt &#039; + optionClass, inline, optID), index));
        } else if ($this.data(&#039;divider&#039;) === true) {
          _li.push(generateLI(&#039;&#039;, index, &#039;divider&#039;));
        } else if ($this.data(&#039;hidden&#039;) === true) {
          _li.push(generateLI(generateA(text, optionClass, inline), index, &#039;hide is-hidden&#039;));
        } else {
          _li.push(generateLI(generateA(text, optionClass, inline), index));
        }
      });

      //If we are not multiple, we don&#039;t have a selected item, and we don&#039;t have a title, select the first element so something is set in the button
      if (!this.multiple &amp;&amp; this.$element.find(&#039;option:selected&#039;).length === 0 &amp;&amp; !this.options.title) {
        this.$element.find(&#039;option&#039;).eq(0).prop(&#039;selected&#039;, true).attr(&#039;selected&#039;, &#039;selected&#039;);
      }

      return $(_li.join(&#039;&#039;));
    },

    findLis: function () {
      if (this.$lis == null) this.$lis = this.$menu.find(&#039;li&#039;);
      return this.$lis;
    },

    /**
     * @param [updateLi] defaults to true
     */
    render: function (updateLi) {
      var that = this;

      //Update the LI to match the SELECT
      if (updateLi !== false) {
        this.$element.find(&#039;option&#039;).each(function (index) {
          that.setDisabled(index, $(this).is(&#039;:disabled&#039;) || $(this).parent().is(&#039;:disabled&#039;));
          that.setSelected(index, $(this).is(&#039;:selected&#039;));
        });
      }

      this.tabIndex();
      var notDisabled = this.options.hideDisabled ? &#039;:not([disabled])&#039; : &#039;&#039;;
      var selectedItems = this.$element.find(&#039;option:selected&#039; + notDisabled).map(function () {
        var $this = $(this);
        var icon = $this.data(&#039;icon&#039;) &amp;&amp; that.options.showIcon ? &#039;&lt;i class=&quot;&#039; + that.options.iconBase + &#039; &#039; + $this.data(&#039;icon&#039;) + &#039;&quot;&gt;&lt;/i&gt; &#039; : &#039;&#039;;
        var subtext;
        if (that.options.showSubtext &amp;&amp; $this.attr(&#039;data-subtext&#039;) &amp;&amp; !that.multiple) {
          subtext = &#039; &lt;small class=&quot;muted text-muted&quot;&gt;&#039; + $this.data(&#039;subtext&#039;) + &#039;&lt;/small&gt;&#039;;
        } else {
          subtext = &#039;&#039;;
        }
        if ($this.data(&#039;content&#039;) &amp;&amp; that.options.showContent) {
          return $this.data(&#039;content&#039;);
        } else if (typeof $this.attr(&#039;title&#039;) !== &#039;undefined&#039;) {
          return $this.attr(&#039;title&#039;);
        } else {
          return icon + $this.html() + subtext;
        }
      }).toArray();

      //Fixes issue in IE10 occurring when no default option is selected and at least one option is disabled
      //Convert all the values into a comma delimited string
      var title = !this.multiple ? selectedItems[0] : selectedItems.join(this.options.multipleSeparator);

      //If this is multi select, and the selectText type is count, the show 1 of 2 selected etc..
      if (this.multiple &amp;&amp; this.options.selectedTextFormat.indexOf(&#039;count&#039;) &gt; -1) {
        var max = this.options.selectedTextFormat.split(&#039;&gt;&#039;);
        if ((max.length &gt; 1 &amp;&amp; selectedItems.length &gt; max[1]) || (max.length == 1 &amp;&amp; selectedItems.length &gt;= 2)) {
          notDisabled = this.options.hideDisabled ? &#039;, [disabled]&#039; : &#039;&#039;;
          var totalCount = this.$element.find(&#039;option&#039;).not(&#039;[data-divider=&quot;true&quot;], [data-hidden=&quot;true&quot;]&#039; + notDisabled).length,
              tr8nText = (typeof this.options.countSelectedText === &#039;function&#039;) ? this.options.countSelectedText(selectedItems.length, totalCount) : this.options.countSelectedText;
          title = tr8nText.replace(&#039;{0}&#039;, selectedItems.length.toString()).replace(&#039;{1}&#039;, totalCount.toString());
        }
      }

      this.options.title = this.$element.attr(&#039;title&#039;);

      if (this.options.selectedTextFormat == &#039;static&#039;) {
        title = this.options.title;
      }

      //If we dont have a title, then use the default, or if nothing is set at all, use the not selected text
      if (!title) {
        title = typeof this.options.title !== &#039;undefined&#039; ? this.options.title : this.options.noneSelectedText;
      }

      this.$button.attr(&#039;title&#039;, htmlEscape(title));
      this.$newElement.find(&#039;.filter-option&#039;).html(title);
    },

    /**
     * @param [style]
     * @param [status]
     */
    setStyle: function (style, status) {
      if (this.$element.attr(&#039;class&#039;)) {
        this.$newElement.addClass(this.$element.attr(&#039;class&#039;).replace(/selectpicker|mobile-device|validate\[.*\]/gi, &#039;&#039;));
      }

      var buttonClass = style ? style : this.options.style;

      if (status == &#039;add&#039;) {
        this.$button.addClass(buttonClass);
      } else if (status == &#039;remove&#039;) {
        this.$button.removeClass(buttonClass);
      } else {
        this.$button.removeClass(this.options.style);
        this.$button.addClass(buttonClass);
      }
    },

    liHeight: function () {
      if (this.options.size === false) return;

      var $selectClone = this.$menu.parent().clone().find(&#039;&gt; .dropdown-toggle&#039;).prop(&#039;autofocus&#039;, false).end().appendTo(&#039;body&#039;),
          $menuClone = $selectClone.addClass(&#039;open&#039;).find(&#039;&gt; .dropdown-menu&#039;),
          liHeight = $menuClone.find(&#039;li&#039;).not(&#039;.divider&#039;).not(&#039;.dropdown-header&#039;).filter(&#039;:visible&#039;).children(&#039;a&#039;).outerHeight(),
          headerHeight = this.options.header ? $menuClone.find(&#039;.popover-title&#039;).outerHeight() : 0,
          searchHeight = this.options.liveSearch ? $menuClone.find(&#039;.bs-searchbox&#039;).outerHeight() : 0,
          actionsHeight = this.options.actionsBox ? $menuClone.find(&#039;.bs-actionsbox&#039;).outerHeight() : 0;

      $selectClone.remove();

      this.$newElement
          .data(&#039;liHeight&#039;, liHeight)
          .data(&#039;headerHeight&#039;, headerHeight)
          .data(&#039;searchHeight&#039;, searchHeight)
          .data(&#039;actionsHeight&#039;, actionsHeight);
    },

    setSize: function () {
      this.findLis();
      var that = this,
          menu = this.$menu,
          menuInner = menu.find(&#039;.inner&#039;),
          selectHeight = this.$newElement.outerHeight(),
          liHeight = this.$newElement.data(&#039;liHeight&#039;),
          headerHeight = this.$newElement.data(&#039;headerHeight&#039;),
          searchHeight = this.$newElement.data(&#039;searchHeight&#039;),
          actionsHeight = this.$newElement.data(&#039;actionsHeight&#039;),
          divHeight = this.$lis.filter(&#039;.divider&#039;).outerHeight(true),
          menuPadding = parseInt(menu.css(&#039;padding-top&#039;)) +
              parseInt(menu.css(&#039;padding-bottom&#039;)) +
              parseInt(menu.css(&#039;border-top-width&#039;)) +
              parseInt(menu.css(&#039;border-bottom-width&#039;)),
          notDisabled = this.options.hideDisabled ? &#039;, .disabled&#039; : &#039;&#039;,
          $window = $(window),
          menuExtras = menuPadding + parseInt(menu.css(&#039;margin-top&#039;)) + parseInt(menu.css(&#039;margin-bottom&#039;)) + 2,
          menuHeight,
          selectOffsetTop,
          selectOffsetBot,
          posVert = function () {
            // JQuery defines a scrollTop function, but in pure JS it&#039;s a property
            //noinspection JSValidateTypes
            selectOffsetTop = that.$newElement.offset().top - $window.scrollTop();
            selectOffsetBot = $window.height() - selectOffsetTop - selectHeight;
          };
      posVert();
      if (this.options.header) menu.css(&#039;padding-top&#039;, 0);

      if (this.options.size == &#039;auto&#039;) {
        var getSize = function () {
          var minHeight,
              lisVis = that.$lis.not(&#039;.hide&#039;);

          posVert();
          menuHeight = selectOffsetBot - menuExtras;

          if (that.options.dropupAuto) {
            that.$newElement.toggleClass(&#039;dropup&#039;, (selectOffsetTop &gt; selectOffsetBot) &amp;&amp; ((menuHeight - menuExtras) &lt; menu.height()));
          }
          if (that.$newElement.hasClass(&#039;dropup&#039;)) {
            menuHeight = selectOffsetTop - menuExtras;
          }

          if ((lisVis.length + lisVis.filter(&#039;.dropdown-header&#039;).length) &gt; 3) {
            minHeight = liHeight * 3 + menuExtras - 2;
          } else {
            minHeight = 0;
          }

          menu.css({
            &#039;max-height&#039;: menuHeight + &#039;px&#039;,
            &#039;overflow&#039;: &#039;hidden&#039;,
            &#039;min-height&#039;: minHeight + headerHeight + searchHeight + actionsHeight + &#039;px&#039;
          });
          menuInner.css({
            &#039;max-height&#039;: menuHeight - headerHeight - searchHeight - actionsHeight - menuPadding + &#039;px&#039;,
            &#039;overflow-y&#039;: &#039;auto&#039;,
            &#039;min-height&#039;: Math.max(minHeight - menuPadding, 0) + &#039;px&#039;
          });
        };
        getSize();
        this.$searchbox.off(&#039;input.getSize propertychange.getSize&#039;).on(&#039;input.getSize propertychange.getSize&#039;, getSize);
        $(window).off(&#039;resize.getSize&#039;).on(&#039;resize.getSize&#039;, getSize);
        $(window).off(&#039;scroll.getSize&#039;).on(&#039;scroll.getSize&#039;, getSize);
      } else if (this.options.size &amp;&amp; this.options.size != &#039;auto&#039; &amp;&amp; menu.find(&#039;li&#039; + notDisabled).length &gt; this.options.size) {
        var optIndex = this.$lis.not(&#039;.divider&#039; + notDisabled).find(&#039; &gt; *&#039;).slice(0, this.options.size).last().parent().index();
        var divLength = this.$lis.slice(0, optIndex + 1).filter(&#039;.divider&#039;).length;
        menuHeight = liHeight * this.options.size + divLength * divHeight + menuPadding;
        if (that.options.dropupAuto) {
          //noinspection JSUnusedAssignment
          this.$newElement.toggleClass(&#039;dropup&#039;, (selectOffsetTop &gt; selectOffsetBot) &amp;&amp; (menuHeight &lt; menu.height()));
        }
        menu.css({&#039;max-height&#039;: menuHeight + headerHeight + searchHeight + actionsHeight + &#039;px&#039;, &#039;overflow&#039;: &#039;hidden&#039;});
        menuInner.css({&#039;max-height&#039;: menuHeight - menuPadding + &#039;px&#039;, &#039;overflow-y&#039;: &#039;auto&#039;});
      }
    },

    setWidth: function () {
      if (this.options.width == &#039;auto&#039;) {
        this.$menu.css(&#039;min-width&#039;, &#039;0&#039;);

        // Get correct width if element hidden
        var selectClone = this.$newElement.clone().appendTo(&#039;body&#039;);
        var ulWidth = selectClone.find(&#039;&gt; .dropdown-menu&#039;).css(&#039;width&#039;);
        var btnWidth = selectClone.css(&#039;width&#039;, &#039;auto&#039;).find(&#039;&gt; button&#039;).css(&#039;width&#039;);
        selectClone.remove();

        // Set width to whatever&#039;s larger, button title or longest option
        this.$newElement.css(&#039;width&#039;, Math.max(parseInt(ulWidth), parseInt(btnWidth)) + &#039;px&#039;);
      } else if (this.options.width == &#039;fit&#039;) {
        // Remove inline min-width so width can be changed from &#039;auto&#039;
        this.$menu.css(&#039;min-width&#039;, &#039;&#039;);
        this.$newElement.css(&#039;width&#039;, &#039;&#039;).addClass(&#039;fit-width&#039;);
      } else if (this.options.width) {
        // Remove inline min-width so width can be changed from &#039;auto&#039;
        this.$menu.css(&#039;min-width&#039;, &#039;&#039;);
        this.$newElement.css(&#039;width&#039;, this.options.width);
      } else {
        // Remove inline min-width/width so width can be changed
        this.$menu.css(&#039;min-width&#039;, &#039;&#039;);
        this.$newElement.css(&#039;width&#039;, &#039;&#039;);
      }
      // Remove fit-width class if width is changed programmatically
      if (this.$newElement.hasClass(&#039;fit-width&#039;) &amp;&amp; this.options.width !== &#039;fit&#039;) {
        this.$newElement.removeClass(&#039;fit-width&#039;);
      }
    },

    selectPosition: function () {
      var that = this,
          drop = &#039;&lt;div /&gt;&#039;,
          $drop = $(drop),
          pos,
          actualHeight,
          getPlacement = function ($element) {
            $drop.addClass($element.attr(&#039;class&#039;).replace(/form-control/gi, &#039;&#039;)).toggleClass(&#039;dropup&#039;, $element.hasClass(&#039;dropup&#039;));
            pos = $element.offset();
            actualHeight = $element.hasClass(&#039;dropup&#039;) ? 0 : $element[0].offsetHeight;
            $drop.css({
              &#039;top&#039;: pos.top + actualHeight,
              &#039;left&#039;: pos.left,
              &#039;width&#039;: $element[0].offsetWidth,
              &#039;position&#039;: &#039;absolute&#039;
            });
          };
      this.$newElement.on(&#039;click&#039;, function () {
        if (that.isDisabled()) {
          return;
        }
        getPlacement($(this));
        $drop.appendTo(that.options.container);
        $drop.toggleClass(&#039;open&#039;, !$(this).hasClass(&#039;open&#039;));
        $drop.append(that.$menu);
      });
      $(window).resize(function () {
        getPlacement(that.$newElement);
      });
      $(window).on(&#039;scroll&#039;, function () {
        getPlacement(that.$newElement);
      });
      $(&#039;html&#039;).on(&#039;click&#039;, function (e) {
        if ($(e.target).closest(that.$newElement).length &lt; 1) {
          $drop.removeClass(&#039;open&#039;);
        }
      });
    },

    setSelected: function (index, selected) {
      this.findLis();
      this.$lis.filter(&#039;[data-original-index=&quot;&#039; + index + &#039;&quot;]&#039;).toggleClass(&#039;selected&#039;, selected);
    },

    setDisabled: function (index, disabled) {
      this.findLis();
      if (disabled) {
        this.$lis.filter(&#039;[data-original-index=&quot;&#039; + index + &#039;&quot;]&#039;).addClass(&#039;disabled&#039;).find(&#039;a&#039;).attr(&#039;href&#039;, &#039;#&#039;).attr(&#039;tabindex&#039;, -1);
      } else {
        this.$lis.filter(&#039;[data-original-index=&quot;&#039; + index + &#039;&quot;]&#039;).removeClass(&#039;disabled&#039;).find(&#039;a&#039;).removeAttr(&#039;href&#039;).attr(&#039;tabindex&#039;, 0);
      }
    },

    isDisabled: function () {
      return this.$element.is(&#039;:disabled&#039;);
    },

    checkDisabled: function () {
      var that = this;

      if (this.isDisabled()) {
        this.$button.addClass(&#039;disabled&#039;).attr(&#039;tabindex&#039;, -1);
      } else {
        if (this.$button.hasClass(&#039;disabled&#039;)) {
          this.$button.removeClass(&#039;disabled&#039;);
        }

        if (this.$button.attr(&#039;tabindex&#039;) == -1) {
          if (!this.$element.data(&#039;tabindex&#039;)) this.$button.removeAttr(&#039;tabindex&#039;);
        }
      }

      this.$button.click(function () {
        return !that.isDisabled();
      });
    },

    tabIndex: function () {
      if (this.$element.is(&#039;[tabindex]&#039;)) {
        this.$element.data(&#039;tabindex&#039;, this.$element.attr(&#039;tabindex&#039;));
        this.$button.attr(&#039;tabindex&#039;, this.$element.data(&#039;tabindex&#039;));
      }
    },

    clickListener: function () {
      var that = this;

      this.$newElement.on(&#039;touchstart.dropdown&#039;, &#039;.dropdown-menu&#039;, function (e) {
        e.stopPropagation();
      });

      this.$newElement.on(&#039;click&#039;, function () {
        that.setSize();
        if (!that.options.liveSearch &amp;&amp; !that.multiple) {
          setTimeout(function () {
            that.$menu.find(&#039;.selected a&#039;).focus();
          }, 10);
        }
      });

      this.$menu.on(&#039;click&#039;, &#039;li a&#039;, function (e) {
        var $this = $(this),
            clickedIndex = $this.parent().data(&#039;originalIndex&#039;),
            prevValue = that.$element.val(),
            prevIndex = that.$element.prop(&#039;selectedIndex&#039;);

        // Don&#039;t close on multi choice menu
        if (that.multiple) {
          e.stopPropagation();
        }

        e.preventDefault();

        //Don&#039;t run if we have been disabled
        if (!that.isDisabled() &amp;&amp; !$this.parent().hasClass(&#039;disabled&#039;)) {
          var $options = that.$element.find(&#039;option&#039;),
              $option = $options.eq(clickedIndex),
              state = $option.prop(&#039;selected&#039;),
              $optgroup = $option.parent(&#039;optgroup&#039;),
              maxOptions = that.options.maxOptions,
              maxOptionsGrp = $optgroup.data(&#039;maxOptions&#039;) || false;

          if (!that.multiple) { // Deselect all others if not multi select box
            $options.prop(&#039;selected&#039;, false);
            $option.prop(&#039;selected&#039;, true);
            that.$menu.find(&#039;.selected&#039;).removeClass(&#039;selected&#039;);
            that.setSelected(clickedIndex, true);
          } else { // Toggle the one we have chosen if we are multi select.
            $option.prop(&#039;selected&#039;, !state);
            that.setSelected(clickedIndex, !state);
            $this.blur();

            if ((maxOptions !== false) || (maxOptionsGrp !== false)) {
              var maxReached = maxOptions &lt; $options.filter(&#039;:selected&#039;).length,
                  maxReachedGrp = maxOptionsGrp &lt; $optgroup.find(&#039;option:selected&#039;).length;

              if ((maxOptions &amp;&amp; maxReached) || (maxOptionsGrp &amp;&amp; maxReachedGrp)) {
                if (maxOptions &amp;&amp; maxOptions == 1) {
                  $options.prop(&#039;selected&#039;, false);
                  $option.prop(&#039;selected&#039;, true);
                  that.$menu.find(&#039;.selected&#039;).removeClass(&#039;selected&#039;);
                  that.setSelected(clickedIndex, true);
                } else if (maxOptionsGrp &amp;&amp; maxOptionsGrp == 1) {
                  $optgroup.find(&#039;option:selected&#039;).prop(&#039;selected&#039;, false);
                  $option.prop(&#039;selected&#039;, true);
                  var optgroupID = $this.data(&#039;optgroup&#039;);

                  that.$menu.find(&#039;.selected&#039;).has(&#039;a[data-optgroup=&quot;&#039; + optgroupID + &#039;&quot;]&#039;).removeClass(&#039;selected&#039;);

                  that.setSelected(clickedIndex, true);
                } else {
                  var maxOptionsArr = (typeof that.options.maxOptionsText === &#039;function&#039;) ?
                          that.options.maxOptionsText(maxOptions, maxOptionsGrp) : that.options.maxOptionsText,
                      maxTxt = maxOptionsArr[0].replace(&#039;{n}&#039;, maxOptions),
                      maxTxtGrp = maxOptionsArr[1].replace(&#039;{n}&#039;, maxOptionsGrp),
                      $notify = $(&#039;&lt;div class=&quot;notify&quot;&gt;&lt;/div&gt;&#039;);
                  // If {var} is set in array, replace it
                  /** @deprecated */
                  if (maxOptionsArr[2]) {
                    maxTxt = maxTxt.replace(&#039;{var}&#039;, maxOptionsArr[2][maxOptions &gt; 1 ? 0 : 1]);
                    maxTxtGrp = maxTxtGrp.replace(&#039;{var}&#039;, maxOptionsArr[2][maxOptionsGrp &gt; 1 ? 0 : 1]);
                  }

                  $option.prop(&#039;selected&#039;, false);

                  that.$menu.append($notify);

                  if (maxOptions &amp;&amp; maxReached) {
                    $notify.append($(&#039;&lt;div&gt;&#039; + maxTxt + &#039;&lt;/div&gt;&#039;));
                    that.$element.trigger(&#039;maxReached.bs.select&#039;);
                  }

                  if (maxOptionsGrp &amp;&amp; maxReachedGrp) {
                    $notify.append($(&#039;&lt;div&gt;&#039; + maxTxtGrp + &#039;&lt;/div&gt;&#039;));
                    that.$element.trigger(&#039;maxReachedGrp.bs.select&#039;);
                  }

                  setTimeout(function () {
                    that.setSelected(clickedIndex, false);
                  }, 10);

                  $notify.delay(750).fadeOut(300, function () {
                    $(this).remove();
                  });
                }
              }
            }
          }

          if (!that.multiple) {
            that.$button.focus();
          } else if (that.options.liveSearch) {
            that.$searchbox.focus();
          }

          // Trigger select &#039;change&#039;
          if ((prevValue != that.$element.val() &amp;&amp; that.multiple) || (prevIndex != that.$element.prop(&#039;selectedIndex&#039;) &amp;&amp; !that.multiple)) {
            that.$element.change();
          }
        }
      });

      this.$menu.on(&#039;click&#039;, &#039;li.disabled a, .popover-title, .popover-title :not(.close)&#039;, function (e) {
        if (e.target == this) {
          e.preventDefault();
          e.stopPropagation();
          if (!that.options.liveSearch) {
            that.$button.focus();
          } else {
            that.$searchbox.focus();
          }
        }
      });

      this.$menu.on(&#039;click&#039;, &#039;li.divider, li.dropdown-header&#039;, function (e) {
        e.preventDefault();
        e.stopPropagation();
        if (!that.options.liveSearch) {
          that.$button.focus();
        } else {
          that.$searchbox.focus();
        }
      });

      this.$menu.on(&#039;click&#039;, &#039;.popover-title .close&#039;, function () {
        that.$button.focus();
      });

      this.$searchbox.on(&#039;click&#039;, function (e) {
        e.stopPropagation();
      });


      this.$menu.on(&#039;click&#039;, &#039;.actions-btn&#039;, function (e) {
        if (that.options.liveSearch) {
          that.$searchbox.focus();
        } else {
          that.$button.focus();
        }

        e.preventDefault();
        e.stopPropagation();

        if ($(this).is(&#039;.bs-select-all&#039;)) {
          that.selectAll();
        } else {
          that.deselectAll();
        }
        that.$element.change();
      });

      this.$element.change(function () {
        that.render(false);
      });
    },

    liveSearchListener: function () {
      var that = this,
          no_results = $(&#039;&lt;li class=&quot;no-results&quot;&gt;&lt;/li&gt;&#039;);

      this.$newElement.on(&#039;click.dropdown.data-api touchstart.dropdown.data-api&#039;, function () {
        that.$menu.find(&#039;.active&#039;).removeClass(&#039;active&#039;);
        if (!!that.$searchbox.val()) {
          that.$searchbox.val(&#039;&#039;);
          that.$lis.not(&#039;.is-hidden&#039;).removeClass(&#039;hide&#039;);
          if (!!no_results.parent().length) no_results.remove();
        }
        if (!that.multiple) that.$menu.find(&#039;.selected&#039;).addClass(&#039;active&#039;);
        setTimeout(function () {
          that.$searchbox.focus();
        }, 10);
      });

      this.$searchbox.on(&#039;click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api&#039;, function (e) {
        e.stopPropagation();
      });

      this.$searchbox.on(&#039;input propertychange&#039;, function () {
        if (that.$searchbox.val()) {

          if (that.options.searchAccentInsensitive) {
            that.$lis.not(&#039;.is-hidden&#039;).removeClass(&#039;hide&#039;).find(&#039;a&#039;).not(&#039;:aicontains(&#039; + normalizeToBase(that.$searchbox.val()) + &#039;)&#039;).parent().addClass(&#039;hide&#039;);
          } else {
            that.$lis.not(&#039;.is-hidden&#039;).removeClass(&#039;hide&#039;).find(&#039;a&#039;).not(&#039;:icontains(&#039; + that.$searchbox.val() + &#039;)&#039;).parent().addClass(&#039;hide&#039;);
          }

          if (!that.$menu.find(&#039;li&#039;).filter(&#039;:visible:not(.no-results)&#039;).length) {
            if (!!no_results.parent().length) no_results.remove();
            no_results.html(that.options.noneResultsText + &#039; &quot;&#039; + htmlEscape(that.$searchbox.val()) + &#039;&quot;&#039;).show();
            that.$menu.find(&#039;li&#039;).last().after(no_results);
          } else if (!!no_results.parent().length) {
            no_results.remove();
          }

        } else {
          that.$lis.not(&#039;.is-hidden&#039;).removeClass(&#039;hide&#039;);
          if (!!no_results.parent().length) no_results.remove();
        }

        that.$menu.find(&#039;li.active&#039;).removeClass(&#039;active&#039;);
        that.$menu.find(&#039;li&#039;).filter(&#039;:visible:not(.divider)&#039;).eq(0).addClass(&#039;active&#039;).find(&#039;a&#039;).focus();
        $(this).focus();
      });
    },

    val: function (value) {
      if (typeof value !== &#039;undefined&#039;) {
        this.$element.val(value);
        this.render();

        return this.$element;
      } else {
        return this.$element.val();
      }
    },

    selectAll: function () {
      this.findLis();
      this.$lis.not(&#039;.divider&#039;).not(&#039;.disabled&#039;).not(&#039;.selected&#039;).filter(&#039;:visible&#039;).find(&#039;a&#039;).click();
    },

    deselectAll: function () {
      this.findLis();
      this.$lis.not(&#039;.divider&#039;).not(&#039;.disabled&#039;).filter(&#039;.selected&#039;).filter(&#039;:visible&#039;).find(&#039;a&#039;).click();
    },

    keydown: function (e) {
      var $this = $(this),
          $parent = ($this.is(&#039;input&#039;)) ? $this.parent().parent() : $this.parent(),
          $items,
          that = $parent.data(&#039;this&#039;),
          index,
          next,
          first,
          last,
          prev,
          nextPrev,
          prevIndex,
          isActive,
          keyCodeMap = {
            32: &#039; &#039;,
            48: &#039;0&#039;,
            49: &#039;1&#039;,
            50: &#039;2&#039;,
            51: &#039;3&#039;,
            52: &#039;4&#039;,
            53: &#039;5&#039;,
            54: &#039;6&#039;,
            55: &#039;7&#039;,
            56: &#039;8&#039;,
            57: &#039;9&#039;,
            59: &#039;;&#039;,
            65: &#039;a&#039;,
            66: &#039;b&#039;,
            67: &#039;c&#039;,
            68: &#039;d&#039;,
            69: &#039;e&#039;,
            70: &#039;f&#039;,
            71: &#039;g&#039;,
            72: &#039;h&#039;,
            73: &#039;i&#039;,
            74: &#039;j&#039;,
            75: &#039;k&#039;,
            76: &#039;l&#039;,
            77: &#039;m&#039;,
            78: &#039;n&#039;,
            79: &#039;o&#039;,
            80: &#039;p&#039;,
            81: &#039;q&#039;,
            82: &#039;r&#039;,
            83: &#039;s&#039;,
            84: &#039;t&#039;,
            85: &#039;u&#039;,
            86: &#039;v&#039;,
            87: &#039;w&#039;,
            88: &#039;x&#039;,
            89: &#039;y&#039;,
            90: &#039;z&#039;,
            96: &#039;0&#039;,
            97: &#039;1&#039;,
            98: &#039;2&#039;,
            99: &#039;3&#039;,
            100: &#039;4&#039;,
            101: &#039;5&#039;,
            102: &#039;6&#039;,
            103: &#039;7&#039;,
            104: &#039;8&#039;,
            105: &#039;9&#039;
          };

      if (that.options.liveSearch) $parent = $this.parent().parent();

      if (that.options.container) $parent = that.$menu;

      $items = $(&#039;[role=menu] li a&#039;, $parent);

      isActive = that.$menu.parent().hasClass(&#039;open&#039;);

      if (!isActive &amp;&amp; /([0-9]|[A-z])/.test(String.fromCharCode(e.keyCode))) {
        if (!that.options.container) {
          that.setSize();
          that.$menu.parent().addClass(&#039;open&#039;);
          isActive = true;
        } else {
          that.$newElement.trigger(&#039;click&#039;);
        }
        that.$searchbox.focus();
      }

      if (that.options.liveSearch) {
        if (/(^9$|27)/.test(e.keyCode.toString(10)) &amp;&amp; isActive &amp;&amp; that.$menu.find(&#039;.active&#039;).length === 0) {
          e.preventDefault();
          that.$menu.parent().removeClass(&#039;open&#039;);
          that.$button.focus();
        }
        $items = $(&#039;[role=menu] li:not(.divider):not(.dropdown-header):visible&#039;, $parent);
        if (!$this.val() &amp;&amp; !/(38|40)/.test(e.keyCode.toString(10))) {
          if ($items.filter(&#039;.active&#039;).length === 0) {
            if (that.options.searchAccentInsensitive) {
              $items = that.$newElement.find(&#039;li&#039;).filter(&#039;:aicontains(&#039; + normalizeToBase(keyCodeMap[e.keyCode]) + &#039;)&#039;);
            } else {
              $items = that.$newElement.find(&#039;li&#039;).filter(&#039;:icontains(&#039; + keyCodeMap[e.keyCode] + &#039;)&#039;);
            }
          }
        }
      }

      if (!$items.length) return;

      if (/(38|40)/.test(e.keyCode.toString(10))) {
        index = $items.index($items.filter(&#039;:focus&#039;));
        first = $items.parent(&#039;:not(.disabled):visible&#039;).first().index();
        last = $items.parent(&#039;:not(.disabled):visible&#039;).last().index();
        next = $items.eq(index).parent().nextAll(&#039;:not(.disabled):visible&#039;).eq(0).index();
        prev = $items.eq(index).parent().prevAll(&#039;:not(.disabled):visible&#039;).eq(0).index();
        nextPrev = $items.eq(next).parent().prevAll(&#039;:not(.disabled):visible&#039;).eq(0).index();

        if (that.options.liveSearch) {
          $items.each(function (i) {
            if ($(this).is(&#039;:not(.disabled)&#039;)) {
              $(this).data(&#039;index&#039;, i);
            }
          });
          index = $items.index($items.filter(&#039;.active&#039;));
          first = $items.filter(&#039;:not(.disabled):visible&#039;).first().data(&#039;index&#039;);
          last = $items.filter(&#039;:not(.disabled):visible&#039;).last().data(&#039;index&#039;);
          next = $items.eq(index).nextAll(&#039;:not(.disabled):visible&#039;).eq(0).data(&#039;index&#039;);
          prev = $items.eq(index).prevAll(&#039;:not(.disabled):visible&#039;).eq(0).data(&#039;index&#039;);
          nextPrev = $items.eq(next).prevAll(&#039;:not(.disabled):visible&#039;).eq(0).data(&#039;index&#039;);
        }

        prevIndex = $this.data(&#039;prevIndex&#039;);

        if (e.keyCode == 38) {
          if (that.options.liveSearch) index -= 1;
          if (index != nextPrev &amp;&amp; index &gt; prev) index = prev;
          if (index &lt; first) index = first;
          if (index == prevIndex) index = last;
        }

        if (e.keyCode == 40) {
          if (that.options.liveSearch) index += 1;
          if (index == -1) index = 0;
          if (index != nextPrev &amp;&amp; index &lt; next) index = next;
          if (index &gt; last) index = last;
          if (index == prevIndex) index = first;
        }

        $this.data(&#039;prevIndex&#039;, index);

        if (!that.options.liveSearch) {
          $items.eq(index).focus();
        } else {
          e.preventDefault();
          if (!$this.is(&#039;.dropdown-toggle&#039;)) {
            $items.removeClass(&#039;active&#039;);
            $items.eq(index).addClass(&#039;active&#039;).find(&#039;a&#039;).focus();
            $this.focus();
          }
        }

      } else if (!$this.is(&#039;input&#039;)) {
        var keyIndex = [],
            count,
            prevKey;

        $items.each(function () {
          if ($(this).parent().is(&#039;:not(.disabled)&#039;)) {
            if ($.trim($(this).text().toLowerCase()).substring(0, 1) == keyCodeMap[e.keyCode]) {
              keyIndex.push($(this).parent().index());
            }
          }
        });

        count = $(document).data(&#039;keycount&#039;);
        count++;
        $(document).data(&#039;keycount&#039;, count);

        prevKey = $.trim($(&#039;:focus&#039;).text().toLowerCase()).substring(0, 1);

        if (prevKey != keyCodeMap[e.keyCode]) {
          count = 1;
          $(document).data(&#039;keycount&#039;, count);
        } else if (count &gt;= keyIndex.length) {
          $(document).data(&#039;keycount&#039;, 0);
          if (count &gt; keyIndex.length) count = 1;
        }

        $items.eq(keyIndex[count - 1]).focus();
      }

      // Select focused option if &quot;Enter&quot;, &quot;Spacebar&quot; or &quot;Tab&quot; (when selectOnTab is true) are pressed inside the menu.
      if ((/(13|32)/.test(e.keyCode.toString(10)) || (/(^9$)/.test(e.keyCode.toString(10)) &amp;&amp; that.options.selectOnTab)) &amp;&amp; isActive) {
        if (!/(32)/.test(e.keyCode.toString(10))) e.preventDefault();
        if (!that.options.liveSearch) {
          $(&#039;:focus&#039;).click();
        } else if (!/(32)/.test(e.keyCode.toString(10))) {
          that.$menu.find(&#039;.active a&#039;).click();
          $this.focus();
        }
        $(document).data(&#039;keycount&#039;, 0);
      }

      if ((/(^9$|27)/.test(e.keyCode.toString(10)) &amp;&amp; isActive &amp;&amp; (that.multiple || that.options.liveSearch)) || (/(27)/.test(e.keyCode.toString(10)) &amp;&amp; !isActive)) {
        that.$menu.parent().removeClass(&#039;open&#039;);
        that.$button.focus();
      }
    },

    mobile: function () {
      this.$element.addClass(&#039;mobile-device&#039;).appendTo(this.$newElement);
      if (this.options.container) this.$menu.hide();
    },

    refresh: function () {
      this.$lis = null;
      this.reloadLi();
      this.render();
      this.setWidth();
      this.setStyle();
      this.checkDisabled();
      this.liHeight();
    },

    update: function () {
      this.reloadLi();
      this.setWidth();
      this.setStyle();
      this.checkDisabled();
      this.liHeight();
    },

    hide: function () {
      this.$newElement.hide();
    },

    show: function () {
      this.$newElement.show();
    },

    remove: function () {
      this.$newElement.remove();
      this.$element.remove();
    }
  };

  // SELECTPICKER PLUGIN DEFINITION
  // ==============================
  function Plugin(option, event) {
    // get the args of the outer function..
    var args = arguments;
    // The arguments of the function are explicitly re-defined from the argument list, because the shift causes them
    // to get lost
    //noinspection JSDuplicatedDeclaration
    var _option = option,
        option = args[0],
        event = args[1];
    [].shift.apply(args);

    // This fixes a bug in the js implementation on android 2.3 #715
    if (typeof option == &#039;undefined&#039;) {
      option = _option;
    }

    var value;
    var chain = this.each(function () {
      var $this = $(this);
      if ($this.is(&#039;select&#039;)) {
        var data = $this.data(&#039;selectpicker&#039;),
            options = typeof option == &#039;object&#039; &amp;&amp; option;

        if (!data) {
          var config = $.extend({}, Selectpicker.DEFAULTS, $.fn.selectpicker.defaults || {}, $this.data(), options);
          $this.data(&#039;selectpicker&#039;, (data = new Selectpicker(this, config, event)));
        } else if (options) {
          for (var i in options) {
            if (options.hasOwnProperty(i)) {
              data.options[i] = options[i];
            }
          }
        }

        if (typeof option == &#039;string&#039;) {
          if (data[option] instanceof Function) {
            value = data[option].apply(data, args);
          } else {
            value = data.options[option];
          }
        }
      }
    });

    if (typeof value !== &#039;undefined&#039;) {
      //noinspection JSUnusedAssignment
      return value;
    } else {
      return chain;
    }
  }

  var old = $.fn.selectpicker;
  $.fn.selectpicker = Plugin;
  $.fn.selectpicker.Constructor = Selectpicker;

  // SELECTPICKER NO CONFLICT
  // ========================
  $.fn.selectpicker.noConflict = function () {
    $.fn.selectpicker = old;
    return this;
  };

  $(document)
      .data(&#039;keycount&#039;, 0)
      .on(&#039;keydown&#039;, &#039;.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input&#039;, Selectpicker.prototype.keydown)
      .on(&#039;focusin.modal&#039;, &#039;.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input&#039;, function (e) {
        e.stopPropagation();
      });

  // SELECTPICKER DATA-API
  // =====================
  $(window).on(&#039;load.bs.select.data-api&#039;, function () {
    $(&#039;.selectpicker&#039;).each(function () {
      var $selectpicker = $(this);
      Plugin.call($selectpicker, $selectpicker.data());
    })
  });
})(jQuery);</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
