<%   var rows      = JSON.parse(constants).VISUALOUTPUTCHOICES.choices; %>
<%   var distrows  = JSON.parse(constants).DISTANCECHOICES.choices; %>
<%   var rows      = JSON.parse(constants).NORMALIZATIONCHOICES.choices %>
<%   var pct_range = JSON.parse(constants).PCT_RANGE  %>
<%   var items     = JSON.parse(chosen_id_name_hash) %>
Options:<br>
<form id='' name='' method='POST' action='view_selection'>
<table class='small_font table table-striped'>
    <tr>
        <td>Normalization of Counts:
            <% for (i in rows) { %>
            <%    if (rows[i].id === pi.normalization) { %>
                      <input type='radio' id='' name='normalization' value='<%= rows[i].id %>' checked='checked' \> <%= rows[i].id %>
            <%     } else { %>
                      <input type='radio' id='' name='normalization' value='<%= rows[i].id %>' \> <%= rows[i].id %>
            <%     } %>
            <% } %>
            
        </td>
    </tr>
    <tr>
        <td>Distance Metric:            
            
            <select id='selected_distance' name='selected_distance' class='selectpicker'  data-style="btn btn-xs btn-info"  data-size="100">
            <% for(d in distrows ) { %>
            <%    if (distrows[d].id === pi.selected_distance) { %>
                      <option value='<%= distrows[d].id %>' selected='selected' ><%= distrows[d].show %></option>
            <%    } else { %>
                      <option value='<%= distrows[d].id %>' ><%= distrows[d].show %></option>
            <%    } %>
            <% } %>
            </select>
            
        </td>
    </tr>
    <tr>
        <td>Filter Matrix Rows by Frequency:

		  MIN: <select id='min_range' name='min_range' class='small_font'>
		    <% for( var n=0; n < pct_range.length-1; n++ ) {  %>
		    <%    if(pi.min_range.toString() === pct_range[n].toString()) { %>
		            <option value='<%= pct_range[n]  %>' selected='selected' ><%= pct_range[n] %>%</option> 
		    <%    }else{ %>
		            <option value='<%= pct_range[n]  %>' ><%= pct_range[n]  %>%</option>
		    <%    }  %>     
		    <% }  %>
		   </select>
		  MAX: <select id='max_range' name='max_range' class='small_font'>

		    <% for (var n=1; n < pct_range.length; n++ ) {  %>
   
		    <%    if(pi.max_range.toString() === pct_range[n].toString()) { %>
		            <option value='<%= pct_range[n]  %>' selected='selected'><%= pct_range[n] %>%</option>
		    <%    }else{ %>
		            <option value='<%= pct_range[n] %>'><%= pct_range[n] %>%</option>
		    <%    } %>
		    <% }  %>
		   </select>

        </td>
    </tr>

    <tr>
        <td>Include NAs:   (taxonomy not available)  
        <%    if(pi.include_nas.toString() === 'yes') { %>
            <input type='radio' checked='checked' name='include_nas' value='yes'   \> Include NAs         
            <input type='radio' name='include_nas' value='no'    \> Exclude NAs
        <% }else{ %>
            <input type='radio' name='include_nas' value='yes'   \> Include NAs         
            <input type='radio' checked='checked'name='include_nas' value='no'    \> Exclude NAs
        <% } %>
           
            </select>
            
        </td>
    </tr>

<tr><td><button type='submit' class="btn btn-xs btn-info" disabled='disabled' id='output_choices_submit_btn' name='' >Update</button>
</td></tr>
</table>
<input type='hidden' name='domains' value='<%= pi.domains %>'>
<input type='hidden' name='tax_depth' value='<%= pi.tax_depth %>'>
<input type='hidden' name='unit_choice' value='<%= pi.unit_choice %>'>
<input type='hidden' name='selected_metadata' value='<%= pi.metadata %>'>
<input type='hidden' name='update_data' value='1'>


</form>

